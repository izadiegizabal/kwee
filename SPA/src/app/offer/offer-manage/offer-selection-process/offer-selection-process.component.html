<div fxLayout="column">
  <div fxFlex="100%" style="margin: 8px 0 32px 16px">
    <h2 class="mat-h1">Select the candidate that suits most the job</h2>
  </div>
  <mat-sidenav-container
    fxLayout="column">

    <mat-sidenav-content
      fxFlex="96%" fxFlex.gt-sm="75%"
      fxLayout="column"
      fxLayoutAlign="start stretch"
      fxLayoutGap="16px" fxLayoutGap.gt-sm="32px">

      <mat-horizontal-stepper linear="true" #stepper>
        <mat-step [stepControl]="selectFormGroup">
          <form [formGroup]="selectFormGroup">
            <ng-template matStepLabel>Select your candidates</ng-template>
            <!--<div-->
            <!--fxLayout="row"-->
            <!--fxLayoutAlign="center"-->
            <!--fxLayoutGap="8px">-->
            <!--<app-searchbar-->
            <!--fxFlex="40%" fxFlex.lt-lg="60%" (search)="onSearch($event)">-->
            <!--</app-searchbar>-->
            <!--<app-orderby-button style="padding-top: 4px"></app-orderby-button>-->
            <!--<div style="padding-top: 4px">-->
            <!--<button color="primary"-->
            <!--fxHide.gt-sm-->
            <!--mat-raised-button>-->
            <!--<mat-icon (click)="drawer.toggle()" aria-label="Open filters" svgIcon="filter-list"></mat-icon>-->
            <!--</button>-->
            <!--</div>-->
            <!--</div>-->

            <!-- ALL ENROLLED CANDIDATES -->
            <div fxLayout="column">
              <div
                *ngIf="
                (manageOfferState | async).selection &&
                (manageOfferState | async).selection.all &&
                (manageOfferState | async).selection.all.length > 0"
                style="margin-top: 24px"
                fxLayoutGap="24px"
                fxLayoutAlign="center center"
                fxLayout="column">
                <app-candidate-preview-card
                  selectionMode="true"
                  (changeFaved)='isFaved($event, user)'
                  *ngFor="let user of (manageOfferState | async).selection.all;" [user]="user">
                </app-candidate-preview-card>
              </div>
              <div
                *ngIf="
                (manageOfferState | async).selection &&
                (manageOfferState | async).selection.faved &&
                (manageOfferState | async).selection.faved.length > 0"
                style="margin-top: 24px"
                fxLayoutGap="24px"
                fxLayoutAlign="center center"
                fxLayout="column">
                <h2 class="mat-h2">Favourites</h2>
                <app-candidate-preview-card
                  selectionMode="true"
                  (changeFaved)='isFaved($event, user)'
                  *ngFor="let user of (manageOfferState | async).selection.faved;" [user]="user">
                </app-candidate-preview-card>
              </div>
            </div>
            <div>
              <button mat-button matStepperNext>Next</button>
            </div>
          </form>
        </mat-step>
        <mat-step [stepControl]="waitFormGroup">
          <form [formGroup]="waitFormGroup">
            <ng-template matStepLabel>Wait for their acceptance</ng-template>

            <div>
              <button mat-button matStepperPrevious>Back</button>
              <button mat-button matStepperNext>Next</button>
            </div>
          </form>
        </mat-step>
        <mat-step>
          <ng-template matStepLabel>Done!</ng-template>
          You are now done!
          <div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button (click)="closeSelectionProcess()">Close Selection</button>
          </div>
        </mat-step>
      </mat-horizontal-stepper>

      <!-- PRESELECTION -->

      <!--<div *ngIf="(adminState | async).candidates" fxLayoutGap="8px" fxLayoutAlign="center center" fxLayout="column">-->
      <!--<app-candidate-preview-card *ngFor="let user of (adminState | async).candidates.data;" [user]="user">-->
      <!--</app-candidate-preview-card>-->
      <!--</div>-->

      <!--<div *ngIf="!(adminState | async).candidates" fxLayoutGap="8px" fxLayoutAlign="center center" fxLayout="column">-->
      <!--<h4 class="mat-h3">No results found.</h4>-->
      <!--<p class="mat-typography">Your search returned no results. Try shortening or rephrasing your search.</p>-->
      <!--</div>-->


      <!--<mat-paginator *ngIf="(adminState | async).candidates" (page)="pageEvent = $event;  changePage();"-->
      <!--[length]="(adminState | async).candidates.total"-->
      <!--[pageSizeOptions]="pageSizeOptions"-->
      <!--[pageSize]="pageSize">-->
      <!--</mat-paginator>-->
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
